print(i)
}
}
for(i in 1:25){
if(length(posts$posts$data[[i]])>1){
posts$posts$data[[i]]$comments$data %>% do.call(rbind,.) %>% data.frame()
}
}
posts$posts$data[[i]]$comments$data %>% do.call(rbind,.)
for(i in 1:25){
if(length(posts$posts$data[[i]])>1){
posts$posts$data[[i]]$comments$data %>% do.call(rbind,.)
}
}
posts$posts$data[[i]]$comments$data
for(i in 1:25){
if(length(posts$posts$data[[i]])>1){
posts$posts$data[[i]]$comments$data
}
}
data <- posts$posts$data[[i]]$comments$data
for(i in 1:25){
if(length(posts$posts$data[[i]])>1){
data <- posts$posts$data[[i]]$comments$data
}
}
View(data)
View(data)
do.call(rbind,data)
for(i in 1:25){
if(length(posts$posts$data[[i]])>1){
data <- do.call(posts$posts$data[[i]]$comments$data,rbind)
}
}
for(i in 1:25){
if(length(posts$posts$data[[i]])>1){
print(posts$posts$data[[i]]$comments$data)
}
}
result <- list()
for(i in 1:25){
if(length(posts$posts$data[[i]])>1){
append(result,posts$posts$data[[i]]$comments$data)
}
}
for(i in 1:25){
if(length(posts$posts$data[[i]])>1){
append(result,posts$posts$data[[i]]$comments$data)
}
}
?apply
View(posts)
for(i in 1:25){
if(length(posts$posts$data)==2){
print(posts$posts$data[i])
}
}
for(i in 1:25){
if(length(posts$posts$data)==2){
print(posts$posts$data[i])
}
}
for(i in 1:25){
if(length(posts$posts$data)==2){
print(posts$posts$data[i]$comments)
}
}
data <- (posts$posts$data[i]$comments)
for(i in 1:25){
if(length(posts$posts$data)==2){
data <- (posts$posts$data[i]$comments)
}
}
for(i in 1:25){
if(length(posts$posts$data)==2){
data <- posts$posts$data[i]$comments
}
}
for(i in 1:25){
if(length(posts$posts$data)==2){
data <- posts$posts$data[i]$comments
}
}
for(i in 1:25){
if(length(posts$posts$data[i])==2){
data <- posts$posts$data[i]$comments
}
}
for(i in 1:25){
if(length(posts$posts$data[i])==2){
data <- posts$posts$data[i]$comments
}
}
length(posts$posts$data[[2]])
length(posts$posts$data[[11]])
for(i in 1:25){
if(length(posts$posts$data[i])==2){
print(i)
data <- posts$posts$data[i]$comments
}
}
for(i in 1:25){
if(length(posts$posts$data[i])==2){
print(i)
}
}
for(i in 1:25){
if(length(posts$posts$data[i])>0){
print(i)
}
}
for(i in 1:25){
if(length(posts$posts$data[i])>1){
print(i)
}
}
if(length(posts$posts$data[i])>0){
print(i)
}
for(i in 1:25){
if(length(posts$posts$data[i])>0){
print(i)
}
}
length(posts$posts$data[[11]])
for(i in 1:25){
if(length(posts$posts$data[[i]])>0){
print(i)
}
}
for(i in 1:25){
if(length(posts$posts$data[[i]])==2){
print(i)
}
}
for(i in 1:25){
if(length(posts$posts$data[[i]])==2){
print(i)
data <- posts$posts$data[[i]]$comments$data %>% do.call(rbind,.) %>% data.frame()
}
}
View(data)
for(i in 1:25){
if(length(posts$posts$data[[i]])==2){
print(i)
data <- rbind(data,posts$posts$data[[i]]$comments$data %>% do.call(rbind,.) %>% data.frame())
}
}
View(data)
data <- posts$posts$data[[11]]$comments$data %>% do.call(rbind,.) %>% data.frame()
data2 <- posts$posts$data[[1]]$comments$data %>% do.call(rbind,.) %>% data.frame()
View(rbind(data,data2))
url <- "http://ecshweb.pchome.com.tw/search/v3.3/all/results?q=sony&page=1&sort=rnk/dc"
res = GET(url)
res_json = content(res)
do.call(rbind,res_json$prods)
View(data.frame(do.call(rbind,res_json$prods)))
View(res_json)
library(httr)
url <- "http://ecshweb.pchome.com.tw/search/v3.3/all/results?q=sony&page=1&sort=rnk/dc"
res = GET(url)
res_json = content(res)
do.call(rbind,res_json$prods)
data <- do.call(rbind,res_json$prods)
View(data)
View(res_json)
data <- posts$posts$data%>% do.call(rbind,.) %>% data.frame()
library(jsonlite)
library(httr)
token = "EAACEdEose0cBAKOoSXsg2ltuv5x1sQa0xr52jnmRWNZAb5TGBfise8ncEMdVZCivGvsICtdpwwFG90CZBbnw9eMYHYPdDped4nZA4oRFBu5ClqDNB1pGAmDY7D0l6xx6gmQRyyBrZBGZBgieNHfYL16lUpDlyp9syCDxMbdyKZACqREYCZBtQR0PZAFFhn4je0jRNh8kJbYq6TAZDZD"
FacebookID = "enc.teia"
url_2 = "?fields=posts%7Bcomments.limit(20)%7D&access_token="
url = paste0(url_1,FacebookID,url_2,token)
url_1 = "https://graph.facebook.com/v2.12/"
response = GET(url)
posts  = content(response)
library(jsonlite)
library(httr)
token = "EAACEdEose0cBAKOoSXsg2ltuv5x1sQa0xr52jnmRWNZAb5TGBfise8ncEMdVZCivGvsICtdpwwFG90CZBbnw9eMYHYPdDped4nZA4oRFBu5ClqDNB1pGAmDY7D0l6xx6gmQRyyBrZBGZBgieNHfYL16lUpDlyp9syCDxMbdyKZACqREYCZBtQR0PZAFFhn4je0jRNh8kJbYq6TAZDZD"
FacebookID = "enc.teia"
url_1 = "https://graph.facebook.com/v2.12/"
url_2 = "?fields=posts%7Bcomments.limit(20)%7D&access_token="
url = paste0(url_1,FacebookID,url_2,token)
response = GET(url)
posts  = content(response)
posts$posts$data[[11]]$comments$data[[4]]$message
library(magrittr)
result <- list()
data <- posts$posts$data%>% do.call(rbind,.) %>% data.frame()
posts$posts$data
data <- posts$posts$data
data
library(httr)
token = "EAACEdEose0cBAKOoSXsg2ltuv5x1sQa0xr52jnmRWNZAb5TGBfise8ncEMdVZCivGvsICtdpwwFG90CZBbnw9eMYHYPdDped4nZA4oRFBu5ClqDNB1pGAmDY7D0l6xx6gmQRyyBrZBGZBgieNHfYL16lUpDlyp9syCDxMbdyKZACqREYCZBtQR0PZAFFhn4je0jRNh8kJbYq6TAZDZD"
FacebookID = "enc.teia"
url_1 = "https://graph.facebook.com/v2.12/"
url_2 = "?fields=posts%7Bcomments.limit(20)%7D&access_token="
url = paste0(url_1,FacebookID,url_2,token)
response = GET(url)
posts  = content(response)
View(response)
View(posts)
View(posts)
token = "EAACEdEose0cBAAfsjAkwlCp1gds8Peh5fJJHdsNPjcVPlrfmG65tiADQ3QDZBWUPpdXUFzqczgRzZC8U29tGzcNnye3foNUR94qilgYZBItUYxZCJDiCplqXL9YLEcWbZBEr5qJbErMMd2QxtZB12lgsebOptpoZBxtFMDvEdoahO9dnXwAU9swb8cs3jeysU0ZD"
FacebookID = "enc.teia"
url_1 = "https://graph.facebook.com/v2.12/"
url_2 = "?fields=posts%7Bcomments.limit(20)%7D&access_token="
url = paste0(url_1,FacebookID,url_2,token)
response = GET(url)
posts  = content(response)
library(magrittr)
data <- posts$posts$data
View(data)
data <- posts$posts$data$1
data[[1]]
mode(data)
do.call(rbind,data)
View(data.framde(do.call(rbind,data)))
View(data.frame(do.call(rbind,data)))
View(list(do.call(rbind,data)))
data <- posts$posts$data
View(data)
View(data)
data[[1]]
length(data[[1]])>2
length(data[[1]])==2
data[[length(data[[]])==2]]
data[1:2]
}
for(i in 1:25){
if(length(data[[i]]==2)){
print(i)
}
}
for(i in 1:25){
if(length(data[[i]]==2)){
print(i)
}
}
for(i in 1:25){
print(i)
}
for(i in 1:25){
if(length(data[[i]])==2)
print(i)
}
for(i in 1:25){
if(length(data[[i]])==2)
append(x,i, after=1)
}
for(i in 1:25){
if(length(data[[i]])==2)
append(x,i, after=1)
}
x <- c()
for(i in 1:25){
if(length(data[[i]])==2)
append(x,i, after=1)
}
for(i in 1:25){
if(length(data[[i]])==2)
append(x,i)
}
x <- c(0)
for(i in 1:25){
if(length(data[[i]])==2)
append(x,i)
}
for(i in 1:25){
if(length(data[[i]])==2)
append(x,i)
}
for(i in 1:25){
if(length(data[[i]])==2)
print(i)
append(x,i)
}
x <- c(1,2,3)
append(x,2)
x
for(i in 1:25){
if(length(data[[i]])==2)
print(i)
x <- append(x,i)
}
x <- c(0)
for(i in 1:25){
if(length(data[[i]])==2)
print(i)
x <- append(x,i)
}
x
x <- c()
for(i in 1:25){
if(length(data[[i]])==2)
print(i)
x <- append(x,i)
}
x
data<- data[x]
data<- data[x]
data <- posts$posts$data
data<- data[[x]]
for(i in 1:25){
if(length(data[[i]])==2)
print(i)
x <- append(x,i)
}
x
x <- c()
for(i in 1:25){
if(length(data[[i]])==2)
print(i)
x <- append(x,i)
}
x
data<- data[[x]]
data<- data[[1:2]]
View(posts)
data <- posts$posts$data
data<- data[[1:2]]
View(posts)
data <- posts$posts$data
View(data)
x <- c()
for(i in 1:25){
if(length(data[[i]])==2)
print(i)
x <- append(x,i)
}
x
data[[1:2]]
x
for(i in 1:25){
if(length(data[[i]])==2)
print(i)
x <- append(x,i)
}
x
for(i in 1:25){
if(length(data[[i]])==2){
print(i)
x <- append(x,i)
}
}
x
x <- c()
for(i in 1:25){
if(length(data[[i]])==2){
print(i)
x <- append(x,i)
}
}
x
View(data)
data <- posts$posts$data
data[[x]]
new <- list()
data[[1]]
mode(data[[1]])
for(i in 1:25){
if(length(data[[i]])==2){
print(i)
x <- append(x,i)
new <- append(new,data[[i]])
}
}
View(new)
new <- list()
data <- posts$posts$data
x <- c()
for(i in 1:25){
if(length(data[[i]])==2){
print(i)
x <- append(x,i)
new <- append(new,data[[i]])
}
}
View(new)
for(i in 1:25){
if(length(data[[i]])==2){
print(i)
x <- append(x,i)
new <- append(new,data[[i]]$comments)
}
}
View(new)
new <- list()
data <- posts$posts$data
x <- c()
for(i in 1:25){
if(length(data[[i]])==2){
print(i)
x <- append(x,i)
new <- append(new,data[[i]]$comments)
}
}
View(new)
new <- list()
data <- posts$posts$data
x <- c()
for(i in 1:25){
if(length(data[[i]])==2){
print(i)
x <- append(x,i)
new <- append(new,data[[i]])
}
}
View(new)
data <- posts$posts$data
x <- c()
for(i in 1:25){
if(length(data[[i]])==2){
x <- append(x,i)
new <- append(new,data[[i]])
}
}
View(new)
data <- posts$posts$data
x
for(i in x){
data <- data[[-x]]
}
library(e1071)
library(magrittr)
library(caret)
train <- read.csv("titanicTrain.csv", stringsAsFactors = F, na.strings = c("NA", ""))
test <- read.csv("titanicQuestion.csv", stringsAsFactors = F, na.strings = c("NA", ""))
train <- train[c(1:1000),]
all <- rbind(train, test)
#survived
all$survived <- all$survived %>% as.factor
all$sex <- all$sex %>% as.factor
all$pclass <- all$pclass %>% as.ordered
#PclassSex
all$pclassSex[all$pclass=='1' & all$sex=='male'] <- 'P1Male'
all$pclassSex[all$pclass=='2' & all$sex=='male'] <- 'P2Male'
all$pclassSex[all$pclass=='3' & all$sex=='male'] <- 'P3Male'
all$pclassSex[all$pclass=='1' & all$sex=='female'] <- 'P1Female'
all$pclassSex[all$pclass=='2' & all$sex=='female'] <- 'P2Female'
all$pclassSex[all$pclass=='3' & all$sex=='female'] <- 'P3Female'
all$pclassSex <- as.factor(all$pclassSex)
#family
all$family <- all$parch + all$sibsp + 1
#boat
all$boat[is.na(all$boat)] <- "0"
all$boat[all$boat != "0"] <- "1"
all$boat <- all$boat %>% as.factor()
#body
all$body[is.na(all$body)] <- "0"
all$body[all$body != "0"] <- "1"
all$body <- all$body %>% as.factor()
#embark
all$embarked[is.na(all$embarked)] <- "X"
all$embarked <- all$embarked %>% as.factor()
#children
all$age[all$age <= 14] <- 1
all$age[all$age != 1] <- 0
all$age[is.na(all$age)] <- 0
all$age <- all$age %>% as.factor()
clean_test <- all[is.na(all$survived),]
clean_train <- all[!is.na(all$survived),]
#SVM
set.seed(1001)
titanic_svm <- train(survived~ pclass + sex + family + body + boat, data = clean_train, method='svmRadial', preProcess= c('center', 'scale'), trControl=trainControl(method="cv", number = 5))
titanic_svm
setwd("E:/GitHub/NTU-CSX-DataScience--Group5/Project3")
library(e1071)
library(magrittr)
library(caret)
train <- read.csv("titanicTrain.csv", stringsAsFactors = F, na.strings = c("NA", ""))
test <- read.csv("titanicQuestion.csv", stringsAsFactors = F, na.strings = c("NA", ""))
train <- train[c(1:1000),]
all <- rbind(train, test)
#survived
all$survived <- all$survived %>% as.factor
all$sex <- all$sex %>% as.factor
all$pclass <- all$pclass %>% as.ordered
#PclassSex
all$pclassSex[all$pclass=='1' & all$sex=='male'] <- 'P1Male'
all$pclassSex[all$pclass=='2' & all$sex=='male'] <- 'P2Male'
all$pclassSex[all$pclass=='3' & all$sex=='male'] <- 'P3Male'
all$pclassSex[all$pclass=='1' & all$sex=='female'] <- 'P1Female'
all$pclassSex[all$pclass=='2' & all$sex=='female'] <- 'P2Female'
all$pclassSex[all$pclass=='3' & all$sex=='female'] <- 'P3Female'
all$pclassSex <- as.factor(all$pclassSex)
#family
all$family <- all$parch + all$sibsp + 1
#boat
all$boat[is.na(all$boat)] <- "0"
all$boat[all$boat != "0"] <- "1"
all$boat <- all$boat %>% as.factor()
#body
all$body[is.na(all$body)] <- "0"
all$body[all$body != "0"] <- "1"
all$body <- all$body %>% as.factor()
#embark
all$embarked[is.na(all$embarked)] <- "X"
all$embarked <- all$embarked %>% as.factor()
#children
all$age[all$age <= 14] <- 1
all$age[all$age != 1] <- 0
all$age[is.na(all$age)] <- 0
all$age <- all$age %>% as.factor()
clean_test <- all[is.na(all$survived),]
clean_train <- all[!is.na(all$survived),]
#SVM
set.seed(1001)
titanic_svm <- train(survived~ pclass + sex + family + body + boat, data = clean_train, method='svmRadial', preProcess= c('center', 'scale'), trControl=trainControl(method="cv", number = 5))
titanic_svm
train <- read.csv("titanicTrain.csv")
View(train)
